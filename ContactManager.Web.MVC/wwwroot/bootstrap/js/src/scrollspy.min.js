/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/bootstrap@4.0.0/js/src/scrollspy.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import $ from"jquery";import Util from"./util";const ScrollSpy=(t=>{const e="scrollspy",s="4.0.0",i="bs.scrollspy",r=`.${i}`,l=t.fn[e],o={offset:10,method:"auto",target:""},n={offset:"number",method:"string",target:"(string|element)"},h={ACTIVATE:`activate${r}`,SCROLL:`scroll${r}`,LOAD_DATA_API:`load${r}.data-api`},a={DROPDOWN_ITEM:"dropdown-item",DROPDOWN_MENU:"dropdown-menu",ACTIVE:"active"},_={DATA_SPY:'[data-spy="scroll"]',ACTIVE:".active",NAV_LIST_GROUP:".nav, .list-group",NAV_LINKS:".nav-link",NAV_ITEMS:".nav-item",LIST_ITEMS:".list-group-item",DROPDOWN:".dropdown",DROPDOWN_ITEMS:".dropdown-item",DROPDOWN_TOGGLE:".dropdown-toggle"},c={OFFSET:"offset",POSITION:"position"};class f{constructor(e,s){this._element=e,this._scrollElement="BODY"===e.tagName?window:e,this._config=this._getConfig(s),this._selector=`${this._config.target} ${_.NAV_LINKS},`+`${this._config.target} ${_.LIST_ITEMS},`+`${this._config.target} ${_.DROPDOWN_ITEMS}`,this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,t(this._scrollElement).on(h.SCROLL,t=>this._process(t)),this.refresh(),this._process()}static get VERSION(){return s}static get Default(){return o}refresh(){const e=this._scrollElement===this._scrollElement.window?c.OFFSET:c.POSITION,s="auto"===this._config.method?e:this._config.method,i=s===c.POSITION?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),t.makeArray(t(this._selector)).map(e=>{let r;const l=Util.getSelectorFromElement(e);if(l&&(r=t(l)[0]),r){const e=r.getBoundingClientRect();if(e.width||e.height)return[t(r)[s]().top+i,l]}return null}).filter(t=>t).sort((t,e)=>t[0]-e[0]).forEach(t=>{this._offsets.push(t[0]),this._targets.push(t[1])})}dispose(){t.removeData(this._element,i),t(this._scrollElement).off(r),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null}_getConfig(s){if("string"!=typeof(s={...o,...s}).target){let i=t(s.target).attr("id");i||(i=Util.getUID(e),t(s.target).attr("id",i)),s.target=`#${i}`}return Util.typeCheckConfig(e,s,n),s}_getScrollTop(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop}_getScrollHeight(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}_getOffsetHeight(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height}_process(){const t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),s=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),t>=s){const t=this._targets[this._targets.length-1];this._activeTarget!==t&&this._activate(t)}else{if(this._activeTarget&&t<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(let e=this._offsets.length;e--;){this._activeTarget!==this._targets[e]&&t>=this._offsets[e]&&(void 0===this._offsets[e+1]||t<this._offsets[e+1])&&this._activate(this._targets[e])}}}_activate(e){this._activeTarget=e,this._clear();let s=this._selector.split(",");s=s.map(t=>`${t}[data-target="${e}"],`+`${t}[href="${e}"]`);const i=t(s.join(","));i.hasClass(a.DROPDOWN_ITEM)?(i.closest(_.DROPDOWN).find(_.DROPDOWN_TOGGLE).addClass(a.ACTIVE),i.addClass(a.ACTIVE)):(i.addClass(a.ACTIVE),i.parents(_.NAV_LIST_GROUP).prev(`${_.NAV_LINKS}, ${_.LIST_ITEMS}`).addClass(a.ACTIVE),i.parents(_.NAV_LIST_GROUP).prev(_.NAV_ITEMS).children(_.NAV_LINKS).addClass(a.ACTIVE)),t(this._scrollElement).trigger(h.ACTIVATE,{relatedTarget:e})}_clear(){t(this._selector).filter(_.ACTIVE).removeClass(a.ACTIVE)}static _jQueryInterface(e){return this.each(function(){let s=t(this).data(i);if(s||(s=new f(this,"object"==typeof e&&e),t(this).data(i,s)),"string"==typeof e){if(void 0===s[e])throw new TypeError(`No method named "${e}"`);s[e]()}})}}return t(window).on(h.LOAD_DATA_API,()=>{const e=t.makeArray(t(_.DATA_SPY));for(let s=e.length;s--;){const i=t(e[s]);f._jQueryInterface.call(i,i.data())}}),t.fn[e]=f._jQueryInterface,t.fn[e].Constructor=f,t.fn[e].noConflict=function(){return t.fn[e]=l,f._jQueryInterface},f})($);export default ScrollSpy;
//# sourceMappingURL=/sm/0309c302d8fba315ca9052916ddfdc0cfaee863885dae6cb1212138c72d65c6c.map